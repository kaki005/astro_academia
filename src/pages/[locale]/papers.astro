---
import Layout from "../../layouts/Layout.astro";
import { publications } from "../../data/cv";
import { highlightAuthor } from "../../lib/utils";
import { template } from "../../settings";
import type { Publication } from "../../types/cv";
import { _getStaticPaths } from "../../i18n";
export const getStaticPaths = _getStaticPaths; // 必須
const { locale } = Astro.params;
const ALL_PAPERS: Publication[] = publications; // This will be replaced with dynamic data later
---

<Layout title="Papers" locale={locale}>
  <div class="prose max-w-none">
    <h1 class="text-3xl font-bold mb-8">Publications</h1>

    <div class="space-y-8">
      {
        ALL_PAPERS.map((paper) => (
          <div class="card bg-base-200">
            <div class="card-body">
              <h2 class="card-title text-xl">
                {paper.link != "" ? (
                  <a
                    href={template.base + paper.link}
                    class="hover:text-accent"
                  >
                    {paper.title}
                  </a>
                ) : (
                  paper.title
                )}
              </h2>
              {paper.gitd_url != "" && (
                <p class="text-base mb-2">
                  <i class="fa-brands fa-github" />
                  <a href={paper.git_url}>{paper.git_url}</a>
                </p>
              )}

              <p class="text-base mb-2">
                <span class="font-medium">Authors:</span>{" "}
                <span set:html={highlightAuthor(paper.authors)} />
              </p>
              <p class="text-sm mb-3">
                <span class="italic">{paper.journal}</span> • {paper.time}
              </p>
              <p class="text-sm text-base-content/80">{paper.abstract}</p>
              {paper.link != "" && (
                <div class="card-actions justify-end mt-4">
                  <a
                    href={paper.link}
                    class="btn btn-sm btn-secondary text-secondary-content"
                  >
                    Read Paper
                  </a>
                </div>
              )}
            </div>
          </div>
        ))
      }
    </div>

    <!-- <div class="flex justify-center mt-8">
      <div class="join">
        <button class="join-item btn btn-sm">«</button>
        <button class="join-item btn btn-sm">1</button>
        <button class="join-item btn btn-sm btn-active">2</button>
        <button class="join-item btn btn-sm">3</button>
        <button class="join-item btn btn-sm">»</button>
      </div>
    </div> -->
  </div>
</Layout>
